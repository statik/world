{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base"],
  "onboarding": false,
  "requireConfig": false,
  "prCreation": "not-pending",
  "pinDigests": true,
  "enabledManagers": ["bazel", "regex", "npm"],
  "bazel": {
    "labels": ["dependencies", "bazel"]
  },
  "npm": {
    "labels": ["dependencies", "javascript"]
  },
  "regexManagers": [
    {
      "fileMatch": "^WORKSPACE$",
      "matchStrings": [
        "# renovate (?<datasource>.*)\n.*\"https://github.com/(?<depName>.*?)/releases/download/(?<currentValue>.*?)/.*\""
      ]
    }
  ],
  "packageRules": [
    {
      "packageNames": ["ubuntu"],
      "versioning": "regex:^(?<compatibility>[a-z]+?)-(?<minor>\\d+)?$"
    },
    {
      "updateTypes": ["digest"],
      "schedule": ["before 3am on monday"]
    }
  ]
}
